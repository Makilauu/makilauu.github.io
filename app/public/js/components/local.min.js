var local={lifetime:864e5,available:function(){return"object"==typeof localStorage&&null!==localStorage},serialize:function(e){return JSON.stringify({value:e,timestamp:(new Date).getTime()})},unserialize:function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(i){}return t},set:function(e,t){return localStorage.setItem(e,this.serialize(t))},get:function(e){var t=this.data(e);return this.update(t)},data:function(e){return this.unserialize(localStorage.getItem(e))},update:function(e){return null===e?null:this.expired(e)?(this.remove(key),null):e.value},remove:function(e){return localStorage.removeItem(e)},expired:function(e){return(new Date).getTime()-e.timestamp>=this.lifetime},clean:function(){for(var e=localStorage.length,t=0;t<e;t++){var i=localStorage.key(t),n=this.data(i);this.expired(n)&&this.remove(i)}},init:function(){this.available()||(window.localStorage={getItem:function(){},setitem:function(){}}),this.clean()}};local.init();