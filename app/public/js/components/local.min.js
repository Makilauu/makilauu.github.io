var local={lifetime:864e5,get available(){return"object"==typeof localStorage&&null!==localStorage},serialize:function(e,t,i){return JSON.stringify({value:e,timestamp:(new Date).getTime(),lifetime:"number"==typeof t?t:this.lifetime,expiration:"number"==typeof i?i:null})},unserialize:function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(i){}return t},set:function(e,t,i){return localStorage.setItem(e,this.serialize(t,i))},get:function(e){this.data(e);return this.update(e)},data:function(e){return this.unserialize(localStorage.getItem(e))},update:function(e){var t=this.data(e);return null===t?null:this.expired(t)?(this.remove(e),null):t.value},remove:function(e){return localStorage.removeItem(e)},expired:function(e){return"object"!=typeof e||null===e||(null===e.expiration?(new Date).getTime()-e.timestamp>=e.lifetime:(new Date).getTime()>=e.expiration)},clean:function(){for(var e=localStorage.length,t=0;t<e;t++){var i=localStorage.key(t),n=this.data(i);this.expired(n)&&this.remove(i)}},init:function(){this.available||(window.localStorage={getItem:function(){},setitem:function(){},length:0}),this.clean()}};local.init();